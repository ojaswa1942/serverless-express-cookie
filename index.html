<!DOCTYPE html>
<html>
<head>
    <title>Privado Cookie Test Suite</title>
    <style type="text/css">
        body{
            font-family: Helvetica;
        }
        .dataEntry {
            grid-template-columns: 400px 1fr;
            display: grid;
            align-items: center;
            padding: 10px;
        }
        .endpoint {
            text-decoration: none;
            color: unset;
            font-size: 22px;
            margin-right: 30px; 
            text-align: left;
            cursor: pointer;
        }
        .desc {
            font-size: 18px;
            text-align: left;
        }

    </style>
</head>
<body>
    <h1> Privado Cookie Test Suite </h1>

    <p><b>
        Serverless root: 
        <code>/.netlify/functions/server/${ENDPOINT}</code> 
    </b></p>
    <p><b>
        Static Files: 
        <code>/static</code> 
    </b></p>
    <hr />
    <div class = "main">
        
        <div class="dataEntry">
            <a href="/.netlify/functions/server/" target="_blank" class="endpoint" >
                GET /
            </a>
            <span class="desc"> 
                Returns pure JSON response
            </span>
        </div>

        <div class="dataEntry">
            <a href="/.netlify/functions/server/jsonHeader" target="_blank" class="endpoint" >
                GET /jsonHeader
            </a>
            <span class="desc" > 
                Returns JSON Response with Set-Cookie Header 
            </span>
        </div>

        <div class="dataEntry">
            <a href="/.netlify/functions/server/scripts/jsonScript" target="_blank" class="endpoint" >
                GET /scripts/jsonScript
            </a>
            <span class="desc" > 
                Returns a script which makes a call to GET /. Can be included in Script source attribute.
            </span>
        </div>

        <div class="dataEntry">
            <a href="/.netlify/functions/server/scripts/jsonHeaderScript" target="_blank" class="endpoint" >
                GET /scripts/jsonHeaderScript
            </a>
            <span class="desc" > 
                Returns a script which makes a call to GET /jsonHeader. Can be included in Script source attribute.
            </span>
        </div>

        <div class="dataEntry">
            <a href="/.netlify/functions/server/scripts/scriptRaw" target="_blank" class="endpoint" >
                GET /scripts/scriptRaw
            </a>
            <span class="desc" > 
                Returns a JavaScript file. Can be included in Script source attribute.
            </span>
        </div>

        <div class="dataEntry">
            <a href="/.netlify/functions/server/scripts/scriptHeader" target="_blank" class="endpoint" >
                GET /scripts/scriptHeader
            </a>
            <span class="desc" > 
                Returns a JavaScript file with Set-Cookie Header. Can be included in Script source attribute.
            </span>
        </div>

        <div class="dataEntry">
            <a href="/.netlify/functions/server/scripts/scriptExplicit" target="_blank" class="endpoint" >
                GET /scripts/scriptExplicit
            </a>
            <span class="desc" > 
                Returns a JavaScript file which explicitly sets cookie using "document.cookie". Can be included in Script source attribute.
            </span>
        </div>

        <div class="dataEntry">
            <a href="/.netlify/functions/server/scripts/scriptHeaderAndExplicit" target="_blank" class="endpoint" >
                GET /scripts/scriptHeaderAndExplicit
            </a>
            <span class="desc" > 
                Returns a JavaScript file with Set-Cookie Header which also explicitly sets cookie using "document.cookie". Can be included in Script source attribute.
            </span>
        </div>

    </div>
</body>

<script type="text/javascript">
    fetch('https://cookietest-domain2.netlify.app/.netlify/functions/server/jsonHeader', {
        method: 'GET',
        credentials: 'include'
    })
    .then(res => res.json())
    .then(console.log);
</script>
<script type="text/javascript" src="https://cookietest-domain1.netlify.app/.netlify/functions/server/scripts/jsonScript"></script>
<script type="text/javascript" src="https://cookietest-domain1.netlify.app/.netlify/functions/server/scripts/jsonHeaderScript"></script>
<script type="text/javascript" src="https://cookietest-domain1.netlify.app/.netlify/functions/server/scripts/scriptRaw"></script>
<script type="text/javascript" src="https://cookietest-domain1.netlify.app/.netlify/functions/server/scripts/scriptExplicit"></script>
<script type="text/javascript" src="https://cookietest-domain1.netlify.app/.netlify/functions/server/scripts/scriptHeader"></script>
<script type="text/javascript" src="https://cookietest-domain1.netlify.app/.netlify/functions/server/scripts/scriptHeaderAndExplicit"></script>
</html>